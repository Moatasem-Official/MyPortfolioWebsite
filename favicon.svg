<?xml version="1.0" encoding="UTF-8"?>
<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#00ff87;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#60efff;stop-opacity:1" />
        </linearGradient>
        <filter id="shadow">
            <feDropShadow dx="0" dy="0" stdDeviation="8" flood-color="#000000" flood-opacity="0.3"/>
        </filter>
        <!-- Gradient for Earth -->
        <linearGradient id="earthGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#1a4855;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#2d8ba6;stop-opacity:1" />
        </linearGradient>
        <!-- Gradient for Land -->
        <linearGradient id="landGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#2d5e1e;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#48943d;stop-opacity:1" />
        </linearGradient>
    </defs>

    <!-- Background with radius -->
    <rect width="512" height="512" rx="80" ry="80" fill="#1a1a1a"/>
    
    <!-- Globe behind M -->
    <g transform="translate(256, 256)">
        <!-- Base Earth Circle -->
        <circle r="120" fill="url(#earthGrad)" opacity="0.3"/>
        
        <!-- Continents -->
        <g opacity="0.4">
            <!-- North America -->
            <path d="M -90,0 
                     C -80,-40 -60,-60 -30,-70
                     C -20,-75 0,-60 10,-50
                     C 20,-40 30,-30 20,-20
                     C 10,-10 0,0 -10,10
                     C -20,20 -40,10 -60,5
                     C -80,0 -90,-10 -90,0 Z" 
                  fill="url(#landGrad)"/>
            
            <!-- Europe and Asia -->
            <path d="M 0,-60
                     C 20,-70 40,-60 60,-50
                     C 80,-40 90,-20 90,0
                     C 90,20 80,40 70,50
                     C 60,60 40,50 20,40
                     C 0,30 -20,40 -30,30
                     C -40,20 -20,0 -10,-20
                     C 0,-40 -10,-50 0,-60 Z"
                  fill="url(#landGrad)"/>
            
            <!-- Africa -->
            <path d="M -20,0
                     C -10,10 0,30 10,40
                     C 20,50 30,60 20,70
                     C 10,80 -10,70 -20,60
                     C -30,50 -40,30 -30,20
                     C -20,10 -30,-10 -20,0 Z"
                  fill="url(#landGrad)"/>
            
            <!-- South America -->
            <path d="M -40,20
                     C -30,30 -20,50 -10,60
                     C 0,70 -10,80 -20,70
                     C -30,60 -50,40 -45,30
                     C -40,20 -50,10 -40,20 Z"
                  fill="url(#landGrad)"/>
        </g>
        
        <!-- Atmosphere Glow -->
        <circle r="122" fill="none" stroke="url(#grad)" stroke-width="2" opacity="0.1"/>
        <circle r="124" fill="none" stroke="url(#grad)" stroke-width="1" opacity="0.05"/>
    </g>

    <!-- Letter M -->
    <g transform="translate(176, 156)">
        <path d="M 20,200 
                 L 20,0 
                 L 40,0 
                 L 80,120 
                 L 120,0 
                 L 140,0 
                 L 140,200 
                 L 120,200 
                 L 120,40 
                 L 80,160 
                 L 40,40 
                 L 40,200 
                 Z" 
              fill="url(#grad)" 
              filter="url(#shadow)"/>
    </g>

    <!-- Router Icon (Top) -->
    <g transform="translate(216, 80) scale(0.5)">
        <!-- Router Base -->
        <rect x="-40" y="0" width="160" height="60" rx="5" fill="#2a2a2a" stroke="url(#grad)" stroke-width="2"/>
        <!-- Antennas -->
        <path d="M -25,-10 L -25,0 M 0,-10 L 0,0 M 25,-10 L 25,0" stroke="url(#grad)" stroke-width="2"/>
        <!-- Signal Waves -->
        <path d="M -25,-10 q 25,-15 50,0" fill="none" stroke="url(#grad)" stroke-width="1" opacity="0.5">
            <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
        </path>
        <!-- LED Lights -->
        <circle cx="-20" cy="45" r="3" fill="url(#grad)">
            <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
        </circle>
        <circle cx="0" cy="45" r="3" fill="url(#grad)">
            <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite" begin="0.3s"/>
        </circle>
        <circle cx="20" cy="45" r="3" fill="url(#grad)">
            <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite" begin="0.6s"/>
        </circle>
    </g>

    <!-- Switch Icon (Left) -->
    <g transform="translate(80, 256) scale(0.5)">
        <!-- Switch Base -->
        <rect x="0" y="0" width="80" height="60" rx="5" fill="#2a2a2a" stroke="url(#grad)" stroke-width="2"/>
        <!-- Network Ports Grid -->
        <g transform="translate(10, 10)">
            <rect x="0" y="0" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="20" y="0" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="40" y="0" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="0" y="16" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="20" y="16" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="40" y="16" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="0" y="32" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="20" y="32" width="10" height="6" rx="1" fill="url(#grad)"/>
            <rect x="40" y="32" width="10" height="6" rx="1" fill="url(#grad)"/>
        </g>
        <!-- Activity LEDs -->
        <circle cx="70" cy="15" r="2" fill="url(#grad)">
            <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" repeatCount="indefinite"/>
        </circle>
        <circle cx="70" cy="30" r="2" fill="url(#grad)">
            <animate attributeName="opacity" values="1;0.3;1" dur="0.8s" repeatCount="indefinite" begin="0.2s"/>
        </circle>
    </g>

    <!-- Firewall Icon (Right) -->
    <g transform="translate(382, 256) scale(0.5)">
        <!-- Shield Base -->
        <path d="M 40,0 
                 L 75,15 
                 L 75,45 
                 L 40,60 
                 L 5,45 
                 L 5,15 Z" 
              fill="#2a2a2a" stroke="url(#grad)" stroke-width="2"/>
        <!-- Lock Symbol -->
        <path d="M 32,25 h 16 v 10 h -16 z" fill="url(#grad)"/>
        <path d="M 35,25 v -8 a 5,5 0 0 1 10,0 v 8" fill="none" stroke="url(#grad)" stroke-width="2"/>
        <!-- Protection Lines -->
        <path d="M 40,5 v 50 M 20,15 h 40 M 15,30 h 50 M 20,45 h 40" 
              stroke="url(#grad)" stroke-width="1" opacity="0.6"/>
    </g>

    <!-- Connection Lines with Animation -->
    <g stroke="url(#grad)" stroke-width="2" stroke-dasharray="4 2">
        <!-- M to Router -->
        <path d="M 256,200 L 256,120">
            <animate attributeName="stroke-dashoffset" values="6;0" dur="1.5s" repeatCount="indefinite"/>
        </path>
        <!-- M to Switch -->
        <path d="M 256,256 L 130,256">
            <animate attributeName="stroke-dashoffset" values="6;0" dur="1.5s" repeatCount="indefinite"/>
        </path>
        <!-- M to Firewall -->
        <path d="M 256,256 L 382,256">
            <animate attributeName="stroke-dashoffset" values="6;0" dur="1.5s" repeatCount="indefinite"/>
        </path>
    </g>

    <!-- Data Flow Particles -->
    <g>
        <!-- Router -->
        <circle cx="0" cy="0" r="2" fill="url(#grad)">
            <animateMotion path="M 256,200 L 256,120" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        <!-- Switch -->
        <circle cx="0" cy="0" r="2" fill="url(#grad)">
            <animateMotion path="M 256,256 L 130,256" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        <!-- Firewall -->
        <circle cx="0" cy="0" r="2" fill="url(#grad)">
            <animateMotion path="M 256,256 L 382,256" dur="1.5s" repeatCount="indefinite"/>
        </circle>
    </g>
</svg>
